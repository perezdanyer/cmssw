LFS: $CMSSW_BASE/src/UnitTest
name: test_yaml
alignments:
    unitTest:
        color: 1
        globaltag: auto:phase1_2017_realistic
        style: 2101
        title: unit test
    prompt:
        color: 600
        globaltag: auto:run3_data_promptlike
        style: 2101
        title: prompt
    legacy:
        color: 418
        globaltag: auto:run2_data
        style: 2101
        title: legacy
    unitTestJetHT:
        color: 1
        globaltag: auto:run2_data
        style: 2101
        title: Unit test

validations:
    DMR:
        trends:
            testUnits:
                singles:
                - testUnits
                Variables:
                - median

        merge:
            testUnits:
                methods:
                - mean
                - rms
                curves:
                - plain
                legendoptions:
                - mean
                - rms
                singles:
                - testUnits
                usefit: true
                minimum: 15
                customrighttitle: IOV

        single:
            testUnits:
                IOV:
                - 1
                alignments:
                - unitTest
                trackcollection: generalTracks
                vertexcollection: offlinePrimaryVertices
                maxevents: 1
                maxtracks: 1
    PV:
        trends:
            testUnits:
                singles:
                - testUnits
                doUnitTest: true

        merge:
            testUnits:
                singles:
                - testUnits
                doMaps: true
                stdResiduals: true
                autoLimits: false

        single:
            testUnits:
                IOV:
                - 1
                alignments:
                - unitTest
                trackcollection: generalTracks
                vertexcollection: offlinePrimaryVertices
                maxevents: 10
                isda: true
                ismc: true
    SplitV:
        merge:
            testUnits:
                singles:
                - testUnits

        single:
            testUnits:
                IOV:
                - 1
                alignments:
                - unitTest
                trackcollection: generalTracks
                HLTSelection: False
                triggerBits: HLT_*
                maxevents: 10
    GCP:
        GCPdetUnits:
            levels: DetUnit
            plotPng: true
        compare:
            GCPdetUnits:
                legacyVSprompt:
                    reference: legacy
                    compared: prompt
                    IOVpairs:
                    - [274094, 274094]
    JetHT:
        single:
            testJob:
                alignments:
                - unitTestJetHT
                trackCollection: ALCARECOTkAlMinBias
                maxevents: 10
                iovListFile: CMSSW_BASE/src/Alignment/OfflineValidation/data/lumiPerRun_Run2.txt

            testMC:
                alignments:
                - unitTest
                trackCollection: ALCARECOTkAlMinBias
                mc: True
                maxevents: 10
        merge:
            testJob:
                singles:
                - testJob
                alignments:
                - unitTestJetHT
            testMC:
                singles:
                - testMC
                alignments:
                - unitTest
        plot:
            testJob:
                merges:
                - testJob
                alignments:
                - unitTestJetHT
                jethtplot:
                    drawProfiles:
                        drawDzErrorVsPt: true
                        drawDxyErrorVsPt: true
                    drawHistograms:
                        drawDz: true
                        drawDxy: true
            testMC:
                merges:
                - testMC
                alignments:
                - unitTest
                jethtplot:
                    drawProfiles:
                        drawDzErrorVsPt: true
                        drawDxyErrorVsPt: true
                    drawHistograms:
                        drawDz: true
                        drawDxy: true    
style:
    CMSlabel: Internal
    trends:
        lines:
            pixel:
                line:
                    title: Pixel calibration update
                    style: kDotted
                    color: kGray
                runs:
                    - 186500
                    - 195360
                    - 197749
                    - 200961
                    - 203368
                    - 204601
                    - 206446
                    - 238341
                    - 246866
                    - 253914
                    - 255655
                    - 271866
                    - 276315
                    - 278271
                    - 280928
                    - 290543
                    - 297281
                    - 298653
                    - 299443
                    - 300389
                    - 301046
                    - 302131
                    - 303790
                    - 303998
                    - 304911
                    - 313041
                    - 314881
                    - 316758
                    - 317475
                    - 317485
                    - 317527
                    - 317661
                    - 317664
                    - 318227
                    - 320377
                    - 321831
                    - 322510
                    - 322603
                    - 323232
                    - 324245
            years:
                line:
                    style: kSolid
                    color: kBlack
                    width: 1
                runs:
                    - 272008
                    - 290543
                    - 313041
                labels:
                    - 2016
                    - 2017
                    - 2018
            phases:
                line:
                    style: kSolid
                    color: kBlack
                    width: 2
                runs:
                    - 272008
                    - 290543
                labels:
                    Phase-0
                    Phase-1
